{"ast":null,"code":"import _slicedToArray from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import\"./Login.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var login=_ref.login;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pw=_useState4[0],setPw=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),warning=_useState6[0],setWarning=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),idValidity=_useState8[0],setIdValidity=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),pwValidity=_useState10[0],setPwValidity=_useState10[1];var navigate=useNavigate();var updateId=function updateId(event){setId(event.currentTarget.value);setIdValidity(checkIdValidity(id));// console.log(\"updateId: \" + idValidity);\n};// 아이디 값이 변경되면, 상태값도 업데이트함\nvar updatePw=function updatePw(event){setPw(event.currentTarget.value);setPwValidity(checkPwValidity(pw));// console.log(\"updatePw: \" + pwValidity);\n};// 비밀번호 값이 변경되면, 상태값도 업데이트함\nvar checkIdValidity=function checkIdValidity(id){// 아이디 유효성 검사\nreturn /[a-zA-Z0-9]{6,10}$/.test(id);};var checkPwValidity=function checkPwValidity(pw){// 비밀번호 유효성 검사\nreturn /[a-zA-Z0-9`~!@#$%^&*()-_=+]{6,20}$/.test(pw);};var onSubmit=function onSubmit(event){event.preventDefault();axios.post('/api/login',{user_id:id,password:pw},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.data==true){console.log(response);login(id);navigate(\"/\");}else{setWarning(\"가입되어 있지 않은 아이디이거나, 잘못된 비밀번호입니다.\");}}).catch(function(error){// 실패했을 경우 에러 출력\nconsole.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-div\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:id,placeholder:\"\\uC544\\uC774\\uB514\",onChange:updateId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-div\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pw\",value:pw,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:updatePw})]}),warning===\"\"?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(\"p\",{id:\"warning\",children:warning}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,id:\"signin\",className:\"btn btn-primary\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra\",children:[/*#__PURE__*/_jsx(Link,{to:\"/find_id\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"})}),/*#__PURE__*/_jsx(Link,{to:\"/find_pw\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","login","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","pw","setPw","_useState5","_useState6","warning","setWarning","_useState7","_useState8","idValidity","setIdValidity","_useState9","_useState10","pwValidity","setPwValidity","navigate","updateId","event","currentTarget","value","checkIdValidity","updatePw","checkPwValidity","test","onSubmit","preventDefault","post","user_id","password","headers","then","response","data","console","log","catch","error","children","className","type","name","placeholder","onChange","onClick","to"],"sources":["/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/src/components/page/login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom'\n\nimport axios from 'axios';\n\nimport \"./Login.scss\";\nconst Login = ({login}) => {\n    const [id, setId] = useState(\"\");\n    const [pw, setPw] = useState(\"\");\n    const [warning, setWarning] = useState(\"\");\n\n    const [idValidity, setIdValidity] = useState(false);\n    const [pwValidity, setPwValidity] = useState(false);\n\n    const navigate = useNavigate();\n\n    const updateId = (event) => {    \n        setId(event.currentTarget.value);\n        setIdValidity(checkIdValidity(id));\n        // console.log(\"updateId: \" + idValidity);\n    } // 아이디 값이 변경되면, 상태값도 업데이트함\n\n    const updatePw = (event) => {\n        setPw(event.currentTarget.value);\n        setPwValidity(checkPwValidity(pw));\n        // console.log(\"updatePw: \" + pwValidity);\n    } // 비밀번호 값이 변경되면, 상태값도 업데이트함\n\n    const checkIdValidity = (id) => { // 아이디 유효성 검사\n        return /[a-zA-Z0-9]{6,10}$/.test(id);\n    }\n\n    const checkPwValidity = (pw) => { // 비밀번호 유효성 검사\n        return /[a-zA-Z0-9`~!@#$%^&*()-_=+]{6,20}$/.test(pw);\n    }\n\n    const onSubmit = (event)  => {\n        event.preventDefault(); \n        axios.post('/api/login', \n            {\n                user_id: id,\n                password: pw,\n            },\n            {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n        )\n        .then((response) => {\n            if (response.data == true) {\n                console.log(response);\n                login(id);\n                navigate(\"/\");\n            } else {\n                setWarning(\"가입되어 있지 않은 아이디이거나, 잘못된 비밀번호입니다.\");    \n            }\n        })\n        .catch((error) => { // 실패했을 경우 에러 출력\n            console.log(error);\n        })       \n    }\n    \n    return (\n        <div id=\"login\">\n            <h1>로그인</h1>\n            <div className=\"input-div\">\n                <label>아이디</label>\n                <input \n                    type=\"text\" \n                    name=\"id\" \n                    value={id}\n                    placeholder=\"아이디\" \n                    onChange={updateId}\n                />\n            </div>\n            <div className=\"input-div\">\n                <label>비밀번호</label>\n                <input \n                    type=\"password\" \n                    name=\"pw\" \n                    value={pw}\n                    placeholder=\"비밀번호\" \n                    onChange={updatePw}\n                />\n            </div>\n            {(warning === \"\") ?  <></>: <p id=\"warning\">{warning}</p>}\n            <button onClick={onSubmit} id=\"signin\" className=\"btn btn-primary\">로그인</button>\n            \n            <div className=\"extra\">\n                <Link to=\"/find_id\">\n                    <p>아이디 찾기</p>\n                </Link>\n                <Link to=\"/find_pw\">\n                    <p>비밀번호 찾기</p>\n                </Link>\n                <Link to=\"/register\">\n                    <p>회원가입</p>\n                </Link>\n            </div>\n        </div>\n    );\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}