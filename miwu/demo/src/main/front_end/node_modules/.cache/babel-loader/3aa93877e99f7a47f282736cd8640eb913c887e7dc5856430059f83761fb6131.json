{"ast":null,"code":"import _createClass from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _slicedToArray from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import\"./FindPw.scss\";import HintSelect from'../hintSelect/HintSelect';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FindPw=function FindPw(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),queryId=_useState4[0],setQueryId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),answer=_useState6[0],setAnswer=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),pw=_useState8[0],setPw=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),foundPw=_useState10[0],setFoundPw=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var updateId=function updateId(event){setId(event.currentTarget.value);if(foundPw==true){setFoundPw(false);}};// 아이디 값이 변경되면, 상태값도 업데이트함\nvar updateQueryId=function updateQueryId(event){setQueryId(event.currentTarget.value);if(foundPw==true){setFoundPw(false);}};// 힌트 질문 선택값이 변경되면, 상태값도 업데이트함\nvar updateAnswer=function updateAnswer(event){setAnswer(event.currentTarget.value);if(foundPw==true){setFoundPw(false);}};// 힌트 대답 값이 변경되면, 상태값도 업데이트함\nvar Query=/*#__PURE__*/_createClass(function Query(id,q){_classCallCheck(this,Query);this.id=id;// 아이디\nthis.q=q;});var queryData=[new Query(1,\"내가 좋아하는 여행지는?\"),new Query(2,\"내 고향은?\"),new Query(3,\"테스트 질문\")];var queryList=queryData.map(function(query){return/*#__PURE__*/_jsx(\"option\",{value:query.id,children:query.q},query.id);});var onSubmit=function onSubmit(event){// 회원가입 버튼 눌렀을 때 실행되는 함수\nevent.preventDefault();if(!foundPw){setFoundPw(true);}setLoading(true);axios.post('/api/find_pw',{userId:id,queryId:queryId,answer:answer},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){setLoading(false);setPw(response.data);}).catch(function(error){// 실패했을 경우 에러 출력\nconsole.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"find-pw\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-div\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:id,placeholder:\"\\uC544\\uC774\\uB514\",onChange:updateId})]}),/*#__PURE__*/_jsx(HintSelect,{options:queryList,queryId:queryId,queryIdHandler:updateQueryId,answerHandler:updateAnswer}),!foundPw?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"pw-info\",children:/*#__PURE__*/_jsx(\"p\",{})}):/*#__PURE__*/_jsx(_Fragment,{children:pw!==\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"pw-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 \",pw,\"\\uC785\\uB2C8\\uB2E4\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"pw-info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uB294 \\uC544\\uC774\\uB514\\uAC70\\uB098 \\uBE44\\uBC00\\uBC88\\uD638 \\uD78C\\uD2B8\\uB97C \\uC798\\uBABB \\uC785\\uB825\\uD558\\uC600\\uC2B5\\uB2C8\\uB2E4.\"})})})}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,className:\"btn btn-outline-primary\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]});};export default FindPw;","map":{"version":3,"names":["React","useState","useEffect","HintSelect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FindPw","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","queryId","setQueryId","_useState5","_useState6","answer","setAnswer","_useState7","_useState8","pw","setPw","_useState9","_useState10","foundPw","setFoundPw","_useState11","_useState12","loading","setLoading","updateId","event","currentTarget","value","updateQueryId","updateAnswer","Query","_createClass","q","_classCallCheck","queryData","queryList","map","query","children","onSubmit","preventDefault","post","userId","headers","then","response","data","catch","error","console","log","className","type","name","placeholder","onChange","options","queryIdHandler","answerHandler","onClick"],"sources":["/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/src/components/page/findPw/findPw/FindPw.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"./FindPw.scss\";\nimport HintSelect from '../hintSelect/HintSelect';\nimport axios from 'axios';\n\nconst FindPw = () => {\n    const [id, setId] = useState(\"\");\n    const [queryId, setQueryId] = useState(1);\n    const [answer, setAnswer] = useState(\"\");\n    const [pw, setPw] = useState(\"\");\n\n    const [foundPw, setFoundPw] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const updateId = (event) => {    \n        setId(event.currentTarget.value);\n        if (foundPw == true) {\n            setFoundPw(false);\n        }\n    } // 아이디 값이 변경되면, 상태값도 업데이트함\n\n    const updateQueryId = (event) => {\n        setQueryId(event.currentTarget.value);\n        if (foundPw == true) {\n            setFoundPw(false);\n        }\n    } // 힌트 질문 선택값이 변경되면, 상태값도 업데이트함\n\n    const updateAnswer = (event) => {\n        setAnswer(event.currentTarget.value);\n        if (foundPw == true) {\n            setFoundPw(false);\n        }\n    } // 힌트 대답 값이 변경되면, 상태값도 업데이트함\n\n    class Query {\n        constructor(id, q) {\n            this.id = id; // 아이디\n            this.q = q;\n        }\n    }\n\n    const queryData = [\n        new Query(1, \"내가 좋아하는 여행지는?\"),\n        new Query(2, \"내 고향은?\"),\n        new Query(3, \"테스트 질문\"),\n    ];\n\n    const queryList = queryData.map((query) => (\n        <option key={query.id} value={query.id}>\n            {query.q}\n        </option>\n    ));\n\n    const onSubmit = (event) => { // 회원가입 버튼 눌렀을 때 실행되는 함수\n        event.preventDefault();\n        if (!foundPw) {\n            setFoundPw(true);\n        }\n        setLoading(true);\n        axios.post('/api/find_pw', \n            {\n                userId: id,\n                queryId: queryId,\n                answer: answer,\n            },\n            {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n        )\n        .then((response) => {\n            setLoading(false);\n            setPw(response.data);\n            \n        })\n        .catch((error) => { // 실패했을 경우 에러 출력\n            console.log(error);\n        })\n    }\n\n    return (\n        <div id=\"find-pw\">\n            <h1>비밀번호 찾기</h1>\n            <div className=\"input-div\">\n                <label>아이디</label>\n                <input \n                    type=\"text\" \n                    name=\"id\" \n                    value={id}\n                    placeholder=\"아이디\" \n                    onChange={updateId}\n                />\n            </div>\n            <HintSelect \n                options={queryList} \n                queryId={queryId}\n                queryIdHandler={updateQueryId}\n                answerHandler={updateAnswer} \n            />\n            {\n                (!foundPw) ? \n                <></> :\n                <>\n                {\n                    (loading) ?\n                    <div className=\"pw-info\">\n                        <p></p>\n                    </div> :\n                    <>\n                    {  \n                        (pw !== \"\") ?\n                        <div className=\"pw-info\">\n                            <p>비밀번호는 {pw}입니다</p>\n                        </div> : \n                        <div className=\"pw-info\">\n                            <p>존재하지 않는 아이디거나 비밀번호 힌트를 잘못 입력하였습니다.</p>\n                        </div>\n                    }\n                    </>    \n                } \n                </>\n            }\n            <button onClick={onSubmit} className=\"btn btn-outline-primary\">비밀번호 찾기</button>\n        </div>\n    );\n}\nexport default FindPw;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}