{"ast":null,"code":"import _regeneratorRuntime from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Jeonnamdes=function Jeonnamdes(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),topDestinations=_useState2[0],setTopDestinations=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentSlide=_useState4[0],setCurrentSlide=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentImageIndex=_useState6[0],setCurrentImageIndex=_useState6[1];useEffect(function(){fetchData();var intervalId=setInterval(function(){nextImage();},5000);return function(){return clearInterval(intervalId);};},[currentImageIndex,currentSlide]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/img/top10/전라남도');case 3:response=_context.sent;setTopDestinations(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error fetching data:',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();var nextImage=function nextImage(){if(currentImageIndex<2){setCurrentImageIndex(function(prevIndex){return prevIndex+1;});}else{setCurrentImageIndex(0);nextSlide();}};var nextSlide=function nextSlide(){if(currentSlide<topDestinations.length-1){setCurrentSlide(function(prevSlide){return prevSlide+1;});}else{setCurrentSlide(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"area-top10\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC9C0\\uC5ED\\uBCC4 \\uAD00\\uAD11\\uC9C0 Top 10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"destination-list\",children:topDestinations.map(function(destination,index){return/*#__PURE__*/_jsx(\"div\",{className:\"destination_card \".concat(index===currentSlide?'active':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:destination[\"url\".concat(currentImageIndex+1)],alt:destination.roadAdress})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"name\",children:[\" \",destination.destName]}),/*#__PURE__*/_jsx(\"p\",{className:\"tag\",children:destination.tag})]})]})},index);})})]});};export default Jeonnamdes;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Jeonnamdes","_useState","_useState2","_slicedToArray","topDestinations","setTopDestinations","_useState3","_useState4","currentSlide","setCurrentSlide","_useState5","_useState6","currentImageIndex","setCurrentImageIndex","fetchData","intervalId","setInterval","nextImage","clearInterval","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","error","stop","apply","arguments","prevIndex","nextSlide","length","prevSlide","className","children","map","destination","index","concat","src","alt","roadAdress","destName","tag"],"sources":["/Users/seon/Documents/GitHub/miwu/miwu/miwu/demo/src/main/front_end/src/components/area/Jeonnam/Jeonnamdes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Jeonnamdes = () => {\n  const [topDestinations, setTopDestinations] = useState([]);\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  useEffect(() => {\n    fetchData();\n\n    const intervalId = setInterval(() => {\n      nextImage();\n    }, 5000);\n\n    return () => clearInterval(intervalId);\n  }, [currentImageIndex, currentSlide]);\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get('/api/img/top10/전라남도');\n      setTopDestinations(response.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  const nextImage = () => {\n    if (currentImageIndex < 2) {\n      setCurrentImageIndex((prevIndex) => prevIndex + 1);\n    } else {\n      setCurrentImageIndex(0);\n      nextSlide();\n    }\n  };\n\n  const nextSlide = () => {\n    if (currentSlide < topDestinations.length - 1) {\n      setCurrentSlide((prevSlide) => prevSlide + 1);\n    } else {\n      setCurrentSlide(0);\n    }\n  };\n\n  return (\n    <div className=\"area-top10\">\n    <h2>지역별 관광지 Top 10</h2>\n    <div className=\"destination-list\">\n      {topDestinations.map((destination, index) => (\n        <div key={index} className={`destination_card ${index === currentSlide ? 'active' : ''}`}>\n          <div className=\"card-content\">\n            <div className=\"image-container\">\n              <img src={destination[`url${currentImageIndex + 1}`]} alt={destination.roadAdress} />\n            </div>\n            <div className=\"details\">\n          <p className=\"name\"> {destination.destName}</p>\n              <p className=\"tag\">{destination.tag}</p>\n            </div>\n          </div>\n      \n        </div>\n      ))}\n    </div>\n    </div>\n  );\n};\n\nexport default Jeonnamdes;"],"mappings":"2dAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,SAAA,CAA8CR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnDG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAC1C,IAAAI,UAAA,CAAwCb,QAAQ,CAAC,CAAC,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA5CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAkDjB,QAAQ,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtDE,iBAAiB,CAAAD,UAAA,IAAEE,oBAAoB,CAAAF,UAAA,IAE9CjB,SAAS,CAAC,UAAM,CACdoB,SAAS,CAAC,CAAC,CAEX,GAAM,CAAAC,UAAU,CAAGC,WAAW,CAAC,UAAM,CACnCC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,kBAAM,CAAAC,aAAa,CAACH,UAAU,CAAC,GACxC,CAAC,CAAE,CAACH,iBAAiB,CAAEJ,YAAY,CAAC,CAAC,CAErC,GAAM,CAAAM,SAAS,6BAAAK,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAES,CAAAlC,KAAK,CAACmC,GAAG,CAAC,qBAAqB,CAAC,QAAjDN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CACd1B,kBAAkB,CAACmB,QAAQ,CAACQ,IAAI,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAElCO,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAAR,QAAA,CAAAM,EAAO,CAAC,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEhD,kBAPK,CAAAT,SAASA,CAAA,SAAAK,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAOd,CAED,GAAM,CAAArB,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,GAAIL,iBAAiB,CAAG,CAAC,CAAE,CACzBC,oBAAoB,CAAC,SAAC0B,SAAS,QAAK,CAAAA,SAAS,CAAG,CAAC,GAAC,CACpD,CAAC,IAAM,CACL1B,oBAAoB,CAAC,CAAC,CAAC,CACvB2B,SAAS,CAAC,CAAC,CACb,CACF,CAAC,CAED,GAAM,CAAAA,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,GAAIhC,YAAY,CAAGJ,eAAe,CAACqC,MAAM,CAAG,CAAC,CAAE,CAC7ChC,eAAe,CAAC,SAACiC,SAAS,QAAK,CAAAA,SAAS,CAAG,CAAC,GAAC,CAC/C,CAAC,IAAM,CACLjC,eAAe,CAAC,CAAC,CAAC,CACpB,CACF,CAAC,CAED,mBACEV,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC3B/C,IAAA,OAAA+C,QAAA,CAAI,8CAAc,CAAI,CAAC,cACvB/C,IAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC9BxC,eAAe,CAACyC,GAAG,CAAC,SAACC,WAAW,CAAEC,KAAK,qBACtClD,IAAA,QAAiB8C,SAAS,qBAAAK,MAAA,CAAsBD,KAAK,GAAKvC,YAAY,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAoC,QAAA,cACvF7C,KAAA,QAAK4C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B/C,IAAA,QAAK8C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B/C,IAAA,QAAKoD,GAAG,CAAEH,WAAW,OAAAE,MAAA,CAAOpC,iBAAiB,CAAG,CAAC,EAAI,CAACsC,GAAG,CAAEJ,WAAW,CAACK,UAAW,CAAE,CAAC,CAClF,CAAC,cACNpD,KAAA,QAAK4C,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1B7C,KAAA,MAAG4C,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,GAAC,CAACE,WAAW,CAACM,QAAQ,EAAI,CAAC,cAC3CvD,IAAA,MAAG8C,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEE,WAAW,CAACO,GAAG,CAAI,CAAC,EACrC,CAAC,EACH,CAAC,EATEN,KAWL,CAAC,EACP,CAAC,CACC,CAAC,EACD,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}